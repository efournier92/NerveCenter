'use strict';describe('GridsterCtrl',function(){beforeEach(module('gridster'));var GridsterCtrl,item1x1,item2x1,item1x2,item2x2;beforeEach(inject(function($controller){item1x1={sizeX:1,sizeY:1,id:'1x1'};item2x1={sizeX:2,sizeY:1,id:'2x1'};item2x2={sizeX:2,sizeY:2,id:'2x2'};item1x2={sizeX:1,sizeY:2,id:'1x2'};var config=[item1x1,item2x1,item2x2,item1x2];GridsterCtrl=$controller('GridsterCtrl');GridsterCtrl.setOptions(config)}));it('should have a grid Array',function(){expect(GridsterCtrl.grid.constructor).toBe(Array)});describe('options',function(){it('should set default options',function(){expect(GridsterCtrl.columns).toBe(6);expect(GridsterCtrl.width).toBe('auto');expect(GridsterCtrl.colWidth).toBe('auto');expect(GridsterCtrl.rowHeight).toBe('match');expect(GridsterCtrl.margins).toEqual([10,10]);expect(GridsterCtrl.isMobile).toBe(false);expect(GridsterCtrl.minColumns).toEqual(1);expect(GridsterCtrl.minRows).toBe(1);expect(GridsterCtrl.maxRows).toBe(100);expect(GridsterCtrl.defaultSizeX).toBe(2);expect(GridsterCtrl.defaultSizeY).toBe(1);expect(GridsterCtrl.mobileBreakPoint).toBe(600);expect(GridsterCtrl.resizable.enabled).toBe(true);expect(GridsterCtrl.draggable.enabled).toBe(true)});it('should update options',function(){GridsterCtrl.setOptions({width:1200,colWidth:120,rowHeight:140,columns:7,margins:[15,15]});expect(GridsterCtrl.width).toBe(1200);expect(GridsterCtrl.colWidth).toBe(120);expect(GridsterCtrl.rowHeight).toBe(140);expect(GridsterCtrl.columns).toBe(7);expect(GridsterCtrl.margins).toEqual([15,15])})});describe('autoSetItemPosition',function(){it('should place an item in the first available space',function(){GridsterCtrl.putItem(item2x1,0,1);GridsterCtrl.autoSetItemPosition(item1x1);expect(GridsterCtrl.getItem(0,0)).toBe(item1x1);GridsterCtrl.autoSetItemPosition(item2x2);expect(GridsterCtrl.getItem(0,3)).toBe(item2x2)});it('should respect item size',function(){GridsterCtrl.putItem(item2x1,0,1);GridsterCtrl.autoSetItemPosition(item2x2);expect(GridsterCtrl.getItem(0,3)).toBe(item2x2)})});describe('putItem',function(){it('should be able to place an item with coordinates',function(){GridsterCtrl.putItem(item1x1,2,3);expect(GridsterCtrl.getItem(2,3)).toBe(item1x1)});it('should place an item without coordinates into empty grid',function(){GridsterCtrl.putItem(item1x1);expect(GridsterCtrl.getItem(0,0)).toBe(item1x1)});it('should place item into without coordinates into the next available position',function(){GridsterCtrl.putItem(item1x1);expect(GridsterCtrl.getItem(0,0)).toBe(item1x1);item2x1.row=0;item2x1.col=2;GridsterCtrl.putItem(item2x1);expect(GridsterCtrl.getItem(0,2)).toBe(item2x1);GridsterCtrl.putItem(item1x2);expect(GridsterCtrl.getItem(0,1)).toBe(item1x2);GridsterCtrl.putItem(item2x2);expect(GridsterCtrl.getItem(0,4)).toBe(item2x2)});it('should not allow items to be placed with negative indices',function(){GridsterCtrl.putItem(item1x1,-1,-1);expect(GridsterCtrl.getItem(0,0)).toBe(item1x1);expect(item1x1.row).toBe(0);expect(item1x1.col).toBe(0)});it('should not float items until told to',function(){GridsterCtrl.putItem(item1x1,3,0);expect(GridsterCtrl.getItem(0,0)).toBe(null);expect(GridsterCtrl.getItem(3,0)).toBe(item1x1)});it('should not create two references to the same item',function(){GridsterCtrl.putItem(item1x1,0,0);expect(GridsterCtrl.getItem(0,0)).toBe(item1x1);GridsterCtrl.putItem(item1x1,0,4);expect(GridsterCtrl.getItem(0,4)).toBe(item1x1);expect(GridsterCtrl.getItem(0,0)).toBe(null)})});describe('getItem',function(){it('should match any column of a multi-column item',function(){GridsterCtrl.putItem(item2x2,0,2);expect(GridsterCtrl.getItem(0,2)).toBe(item2x2);expect(GridsterCtrl.getItem(1,2)).toBe(item2x2);expect(GridsterCtrl.getItem(0,3)).toBe(item2x2);expect(GridsterCtrl.getItem(1,3)).toBe(item2x2)})});describe('getItems',function(){it('should get items within an area',function(){GridsterCtrl.putItem(item2x2,0,1);GridsterCtrl.putItem(item2x1,2,0);expect(GridsterCtrl.getItem(0,1)).toBe(item2x2);expect(GridsterCtrl.getItem(2,0)).toBe(item2x1);var items=GridsterCtrl.getItems(1,0,2,1);expect(items.length).toBe(1);expect(items[0]).toBe(item2x2)})});describe('floatItemsUp',function(){it('should float an item up',function(){GridsterCtrl.putItem(item1x1,3,0);GridsterCtrl.floatItemsUp();expect(GridsterCtrl.getItem(0,0)).toBe(item1x1)});it('should stack items when they float up',function(){GridsterCtrl.putItem(item1x1,3,0);GridsterCtrl.floatItemsUp();expect(GridsterCtrl.getItem(0,0)).toBe(item1x1);GridsterCtrl.putItem(item2x1,3,0);GridsterCtrl.floatItemsUp();expect(GridsterCtrl.getItem(1,0)).toBe(item2x1);GridsterCtrl.putItem(item1x1,3,1);GridsterCtrl.floatItemsUp();expect(GridsterCtrl.getItem(1,1)).toBe(item1x1)});it('should correctly stack multi-column items when their primary coordinates do not stack',function(){GridsterCtrl.putItem(item2x2,0,2);GridsterCtrl.putItem(item2x1,2,1);expect(GridsterCtrl.getItem(0,2)).toBe(item2x2);expect(GridsterCtrl.getItem(2,1)).toBe(item2x1);GridsterCtrl.floatItemsUp();expect(GridsterCtrl.getItem(0,2)).toBe(item2x2);expect(GridsterCtrl.getItem(2,1)).toBe(item2x1)})});describe('moveOverlappingItems',function(){it('should correctly stack items on resize when their primary coordinates do not stack',function(){GridsterCtrl.putItem(item1x1,0,0);GridsterCtrl.putItem(item2x2,0,2);GridsterCtrl.putItem(item2x1,1,0);expect(GridsterCtrl.getItem(0,0)).toBe(item1x1);expect(GridsterCtrl.getItem(0,2)).toBe(item2x2);expect(GridsterCtrl.getItem(1,0)).toBe(item2x1);item2x1.sizeX=3;GridsterCtrl.moveOverlappingItems(item2x1);expect(GridsterCtrl.getItem(1,2)).toBe(item2x1);expect(item2x2.row).toBe(2)});it('should correctly push items down',function(){GridsterCtrl.putItem(item2x2,0,0);GridsterCtrl.putItem(item1x1,2,0);GridsterCtrl.putItem(item1x2,1,1);GridsterCtrl.floatItemsUp();expect(item2x2.row).toBe(2);expect(item2x2.col).toBe(0);expect(GridsterCtrl.getItem(4,0)).toBe(item1x1);expect(item1x2.row).toBe(0);expect(item1x2.col).toBe(1)});it('should correctly push items down',function(){GridsterCtrl.putItem(item1x2,0,0);GridsterCtrl.putItem(item2x1,0,1);GridsterCtrl.putItem(item1x1,1,2);item1x2.sizeX=2;GridsterCtrl.moveOverlappingItems(item1x2);expect(GridsterCtrl.getItem(0,0)).toBe(item1x2);expect(GridsterCtrl.getItem(2,1)).toBe(item2x1);expect(GridsterCtrl.getItem(3,2)).toBe(item1x1)})})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9hbmd1bGFyLWdyaWRzdGVyL3Rlc3Qvc3BlYy9ncmlkc3Rlci5qcyJdLCJuYW1lcyI6WyJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJtb2R1bGUiLCJHcmlkc3RlckN0cmwiLCJpdGVtMXgxIiwiaXRlbTJ4MSIsIml0ZW0xeDIiLCJpdGVtMngyIiwiaW5qZWN0IiwiJGNvbnRyb2xsZXIiLCJzaXplWCIsInNpemVZIiwiaWQiLCJjb25maWciLCJzZXRPcHRpb25zIiwiaXQiLCJleHBlY3QiLCJncmlkIiwiY29uc3RydWN0b3IiLCJ0b0JlIiwiQXJyYXkiLCJjb2x1bW5zIiwid2lkdGgiLCJjb2xXaWR0aCIsInJvd0hlaWdodCIsIm1hcmdpbnMiLCJ0b0VxdWFsIiwiaXNNb2JpbGUiLCJtaW5Db2x1bW5zIiwibWluUm93cyIsIm1heFJvd3MiLCJkZWZhdWx0U2l6ZVgiLCJkZWZhdWx0U2l6ZVkiLCJtb2JpbGVCcmVha1BvaW50IiwicmVzaXphYmxlIiwiZW5hYmxlZCIsImRyYWdnYWJsZSIsInB1dEl0ZW0iLCJhdXRvU2V0SXRlbVBvc2l0aW9uIiwiZ2V0SXRlbSIsInJvdyIsImNvbCIsIml0ZW1zIiwiZ2V0SXRlbXMiLCJsZW5ndGgiLCJmbG9hdEl0ZW1zVXAiLCJtb3ZlT3ZlcmxhcHBpbmdJdGVtcyJdLCJtYXBwaW5ncyI6IkFBQUEsYUFFQUEsU0FBUyxjQUFUQSxDQUF5QixVQUFXLENBR25DQyxXQUFXQyxPQUFPLFVBQVBBLENBQVhELEVBRUEsR0FBSUUsYUFBSixDQUNDQyxPQURELENBRUNDLE9BRkQsQ0FHQ0MsT0FIRCxDQUlDQyxPQUpELENBT0FOLFdBQVdPLE9BQU8sU0FBU0MsV0FBVCxDQUFzQixDQUN2Q0wsUUFBVSxDQUNUTSxNQUFPLENBREUsQ0FFVEMsTUFBTyxDQUZFLENBR1RDLEdBQUksS0FISyxDQUFWUixDQUtBQyxRQUFVLENBQ1RLLE1BQU8sQ0FERSxDQUVUQyxNQUFPLENBRkUsQ0FHVEMsR0FBSSxLQUhLLENBQVZQ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QWJsQyxDQUFxQkMsT0FBckJELENBQThCLENBQTlCQSxDQUFpQyxDQUFqQ0EsRUFFQUcsUUFBUUksS0FBUkosQ0FBZ0IsQ0FBaEJBLENBQ0FILGFBQWEyQyxvQkFBYjNDLENBQWtDRyxPQUFsQ0gsRUFFQWEsT0FBT2IsYUFBYW9DLE9BQWJwQyxDQUFxQixDQUFyQkEsQ0FBd0IsQ0FBeEJBLENBQVBhLEVBQW1DRyxJQUFuQ0gsQ0FBd0NWLE9BQXhDVSxFQUNBQSxPQUFPYixhQUFhb0MsT0FBYnBDLENBQXFCLENBQXJCQSxDQUF3QixDQUF4QkEsQ0FBUGEsRUFBbUNHLElBQW5DSCxDQUF3Q1gsT0FBeENXLEVBQ0FBLE9BQU9iLGFBQWFvQyxPQUFicEMsQ0FBcUIsQ0FBckJBLENBQXdCLENBQXhCQSxDQUFQYSxFQUFtQ0csSUFBbkNILENBQXdDWixPQUF4Q1ksQ0FWRCxDQUFBRCxDQWpDRCxDQUFBZixDQWxPRCxDQUFBQSIsImZpbGUiOiJub2RlX21vZHVsZXMvYW5ndWxhci1ncmlkc3Rlci90ZXN0L3NwZWMvZ3JpZHN0ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmRlc2NyaWJlKCdHcmlkc3RlckN0cmwnLCBmdW5jdGlvbigpIHtcblxuXHQvLyBsb2FkIHRoZSBjb250cm9sbGVyJ3MgbW9kdWxlXG5cdGJlZm9yZUVhY2gobW9kdWxlKCdncmlkc3RlcicpKTtcblxuXHR2YXIgR3JpZHN0ZXJDdHJsLFxuXHRcdGl0ZW0xeDEsXG5cdFx0aXRlbTJ4MSxcblx0XHRpdGVtMXgyLFxuXHRcdGl0ZW0yeDI7XG5cblx0Ly8gSW5pdGlhbGl6ZSB0aGUgY29udHJvbGxlclxuXHRiZWZvcmVFYWNoKGluamVjdChmdW5jdGlvbigkY29udHJvbGxlcikge1xuXHRcdGl0ZW0xeDEgPSB7XG5cdFx0XHRzaXplWDogMSxcblx0XHRcdHNpemVZOiAxLFxuXHRcdFx0aWQ6ICcxeDEnXG5cdFx0fTtcblx0XHRpdGVtMngxID0ge1xuXHRcdFx0c2l6ZVg6IDIsXG5cdFx0XHRzaXplWTogMSxcblx0XHRcdGlkOiAnMngxJ1xuXHRcdH07XG5cdFx0aXRlbTJ4MiA9IHtcblx0XHRcdHNpemVYOiAyLFxuXHRcdFx0c2l6ZVk6IDIsXG5cdFx0XHRpZDogJzJ4Midcblx0XHR9O1xuXHRcdGl0ZW0xeDIgPSB7XG5cdFx0XHRzaXplWDogMSxcblx0XHRcdHNpemVZOiAyLFxuXHRcdFx0aWQ6ICcxeDInXG5cdFx0fTtcblxuXHRcdHZhciBjb25maWcgPSBbaXRlbTF4MSwgaXRlbTJ4MSwgaXRlbTJ4MiwgaXRlbTF4Ml07XG5cblx0XHRHcmlkc3RlckN0cmwgPSAkY29udHJvbGxlcignR3JpZHN0ZXJDdHJsJyk7XG5cdFx0R3JpZHN0ZXJDdHJsLnNldE9wdGlvbnMoY29uZmlnKTtcblx0fSkpO1xuXG5cdGl0KCdzaG91bGQgaGF2ZSBhIGdyaWQgQXJyYXknLCBmdW5jdGlvbigpIHtcblx0XHRleHBlY3QoR3JpZHN0ZXJDdHJsLmdyaWQuY29uc3RydWN0b3IpLnRvQmUoQXJyYXkpO1xuXHR9KTtcblxuXHRkZXNjcmliZSgnb3B0aW9ucycsIGZ1bmN0aW9uKCkge1xuXHRcdGl0KCdzaG91bGQgc2V0IGRlZmF1bHQgb3B0aW9ucycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0ZXhwZWN0KEdyaWRzdGVyQ3RybC5jb2x1bW5zKS50b0JlKDYpO1xuXHRcdFx0ZXhwZWN0KEdyaWRzdGVyQ3RybC53aWR0aCkudG9CZSgnYXV0bycpO1xuXHRcdFx0ZXhwZWN0KEdyaWRzdGVyQ3RybC5jb2xXaWR0aCkudG9CZSgnYXV0bycpO1xuXHRcdFx0ZXhwZWN0KEdyaWRzdGVyQ3RybC5yb3dIZWlnaHQpLnRvQmUoJ21hdGNoJyk7XG5cdFx0XHRleHBlY3QoR3JpZHN0ZXJDdHJsLm1hcmdpbnMpLnRvRXF1YWwoWzEwLCAxMF0pO1xuXHRcdFx0ZXhwZWN0KEdyaWRzdGVyQ3RybC5pc01vYmlsZSkudG9CZShmYWxzZSk7XG5cdFx0XHRleHBlY3QoR3JpZHN0ZXJDdHJsLm1pbkNvbHVtbnMpLnRvRXF1YWwoMSk7XG5cdFx0XHRleHBlY3QoR3JpZHN0ZXJDdHJsLm1pblJvd3MpLnRvQmUoMSk7XG5cdFx0XHRleHBlY3QoR3JpZHN0ZXJDdHJsLm1heFJvd3MpLnRvQmUoMTAwKTtcblx0XHRcdGV4cGVjdChHcmlkc3RlckN0cmwuZGVmYXVsdFNpemVYKS50b0JlKDIpO1xuXHRcdFx0ZXhwZWN0KEdyaWRzdGVyQ3RybC5kZWZhdWx0U2l6ZVkpLnRvQmUoMSk7XG5cdFx0XHRleHBlY3QoR3JpZHN0ZXJDdHJsLm1vYmlsZUJyZWFrUG9pbnQpLnRvQmUoNjAwKTtcblx0XHRcdGV4cGVjdChHcmlkc3RlckN0cmwucmVzaXphYmxlLmVuYWJsZWQpLnRvQmUodHJ1ZSk7XG5cdFx0XHRleHBlY3QoR3JpZHN0ZXJDdHJsLmRyYWdnYWJsZS5lbmFibGVkKS50b0JlKHRydWUpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gdG9kbzogbW92ZSB0aGVzZSB0byBlMmUgdGVzdFxuXHRcdC8vXHRcdGl0KCdzaG91bGQgcmVzb2x2ZSBzbWFydCBvcHRpb25zJywgZnVuY3Rpb24oKSB7XG5cdFx0Ly9cdFx0XHRleHBlY3QoR3JpZHN0ZXJDdHJsLmN1cldpZHRoKS50b0JlKDQwMCk7IC8vIGluaGVyaXQgZWxlbWVudCB3aWR0aFxuXHRcdC8vXHRcdFx0ZXhwZWN0KEdyaWRzdGVyQ3RybC5jdXJDb2xXaWR0aCkudG9CZSg2NSk7IC8vICg0MDAgLSAxMCkgLyA2XG5cdFx0Ly9cdFx0XHRleHBlY3QoR3JpZHN0ZXJDdHJsLmN1clJvd0hlaWdodCkudG9CZSg2NSk7IC8vIG1hdGNoIGN1ckNvbFdpZHRoXG5cdFx0Ly9cdFx0fSk7XG5cblx0XHRpdCgnc2hvdWxkIHVwZGF0ZSBvcHRpb25zJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRHcmlkc3RlckN0cmwuc2V0T3B0aW9ucyh7XG5cdFx0XHRcdHdpZHRoOiAxMjAwLFxuXHRcdFx0XHRjb2xXaWR0aDogMTIwLFxuXHRcdFx0XHRyb3dIZWlnaHQ6IDE0MCxcblx0XHRcdFx0Y29sdW1uczogNyxcblx0XHRcdFx0bWFyZ2luczogWzE1LCAxNV1cblx0XHRcdH0pO1xuXG5cdFx0XHRleHBlY3QoR3JpZHN0ZXJDdHJsLndpZHRoKS50b0JlKDEyMDApO1xuXHRcdFx0ZXhwZWN0KEdyaWRzdGVyQ3RybC5jb2xXaWR0aCkudG9CZSgxMjApO1xuXHRcdFx0ZXhwZWN0KEdyaWRzdGVyQ3RybC5yb3dIZWlnaHQpLnRvQmUoMTQwKTtcblx0XHRcdGV4cGVjdChHcmlkc3RlckN0cmwuY29sdW1ucykudG9CZSg3KTtcblx0XHRcdGV4cGVjdChHcmlkc3RlckN0cmwubWFyZ2lucykudG9FcXVhbChbMTUsIDE1XSk7XG5cblx0XHRcdC8vIHRvZG86IG1vdmUgdGhlc2UgdG8gZTJlIHRlc3Rcblx0XHRcdC8vXHRcdFx0ZXhwZWN0KEdyaWRzdGVyQ3RybC5jdXJDb2xXaWR0aCkudG9CZSgxMjApO1xuXHRcdFx0Ly9cdFx0XHRleHBlY3QoR3JpZHN0ZXJDdHJsLmN1clJvd0hlaWdodCkudG9CZSgxNDApO1xuXHRcdH0pO1xuXHR9KTtcblxuXHRkZXNjcmliZSgnYXV0b1NldEl0ZW1Qb3NpdGlvbicsIGZ1bmN0aW9uKCkge1xuXHRcdGl0KCdzaG91bGQgcGxhY2UgYW4gaXRlbSBpbiB0aGUgZmlyc3QgYXZhaWxhYmxlIHNwYWNlJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRHcmlkc3RlckN0cmwucHV0SXRlbShpdGVtMngxLCAwLCAxKTtcblx0XHRcdEdyaWRzdGVyQ3RybC5hdXRvU2V0SXRlbVBvc2l0aW9uKGl0ZW0xeDEpO1xuXHRcdFx0ZXhwZWN0KEdyaWRzdGVyQ3RybC5nZXRJdGVtKDAsIDApKS50b0JlKGl0ZW0xeDEpO1xuXG5cdFx0XHRHcmlkc3RlckN0cmwuYXV0b1NldEl0ZW1Qb3NpdGlvbihpdGVtMngyKTtcblx0XHRcdGV4cGVjdChHcmlkc3RlckN0cmwuZ2V0SXRlbSgwLCAzKSkudG9CZShpdGVtMngyKTtcblx0XHR9KTtcblxuXHRcdGl0KCdzaG91bGQgcmVzcGVjdCBpdGVtIHNpemUnLCBmdW5jdGlvbigpIHtcblx0XHRcdEdyaWRzdGVyQ3RybC5wdXRJdGVtKGl0ZW0yeDEsIDAsIDEpO1xuXG5cdFx0XHRHcmlkc3RlckN0cmwuYXV0b1NldEl0ZW1Qb3NpdGlvbihpdGVtMngyKTtcblx0XHRcdGV4cGVjdChHcmlkc3RlckN0cmwuZ2V0SXRlbSgwLCAzKSkudG9CZShpdGVtMngyKTtcblx0XHR9KTtcblx0fSk7XG5cblx0ZGVzY3JpYmUoJ3B1dEl0ZW0nLCBmdW5jdGlvbigpIHtcblx0XHRpdCgnc2hvdWxkIGJlIGFibGUgdG8gcGxhY2UgYW4gaXRlbSB3aXRoIGNvb3JkaW5hdGVzJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRHcmlkc3RlckN0cmwucHV0SXRlbShpdGVtMXgxLCAyLCAzKTtcblx0XHRcdGV4cGVjdChHcmlkc3RlckN0cmwuZ2V0SXRlbSgyLCAzKSkudG9CZShpdGVtMXgxKTtcblx0XHR9KTtcblxuXHRcdGl0KCdzaG91bGQgcGxhY2UgYW4gaXRlbSB3aXRob3V0IGNvb3JkaW5hdGVzIGludG8gZW1wdHkgZ3JpZCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0R3JpZHN0ZXJDdHJsLnB1dEl0ZW0oaXRlbTF4MSk7XG5cdFx0XHRleHBlY3QoR3JpZHN0ZXJDdHJsLmdldEl0ZW0oMCwgMCkpLnRvQmUoaXRlbTF4MSk7XG5cdFx0fSk7XG5cblx0XHRpdCgnc2hvdWxkIHBsYWNlIGl0ZW0gaW50byB3aXRob3V0IGNvb3JkaW5hdGVzIGludG8gdGhlIG5leHQgYXZhaWxhYmxlIHBvc2l0aW9uJywgZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyBwbGFjZSAxeDEgYXQgMHgwXG5cdFx0XHRHcmlkc3RlckN0cmwucHV0SXRlbShpdGVtMXgxKTtcblx0XHRcdGV4cGVjdChHcmlkc3RlckN0cmwuZ2V0SXRlbSgwLCAwKSkudG9CZShpdGVtMXgxKTtcblxuXHRcdFx0Ly8gcGxhY2UgMngxIGF0IDB4MlxuXHRcdFx0aXRlbTJ4MS5yb3cgPSAwO1xuXHRcdFx0aXRlbTJ4MS5jb2wgPSAyO1xuXHRcdFx0R3JpZHN0ZXJDdHJsLnB1dEl0ZW0oaXRlbTJ4MSk7XG5cdFx0XHRleHBlY3QoR3JpZHN0ZXJDdHJsLmdldEl0ZW0oMCwgMikpLnRvQmUoaXRlbTJ4MSk7XG5cblx0XHRcdC8vIHBsYWNlIDF4MiBpbiB3aXRob3V0IGNvb3JkaW5hdGVzXG5cdFx0XHRHcmlkc3RlckN0cmwucHV0SXRlbShpdGVtMXgyKTtcblx0XHRcdGV4cGVjdChHcmlkc3RlckN0cmwuZ2V0SXRlbSgwLCAxKSkudG9CZShpdGVtMXgyKTsgLy8gc2hvdWxkIHN0aWNrIGl0IGF0IDB4MVxuXG5cdFx0XHQvLyBwbGFjZSAyeDIgd2l0aG91dCBjb29yZGluYXRlc1xuXHRcdFx0R3JpZHN0ZXJDdHJsLnB1dEl0ZW0oaXRlbTJ4Mik7XG5cdFx0XHRleHBlY3QoR3JpZHN0ZXJDdHJsLmdldEl0ZW0oMCwgNCkpLnRvQmUoaXRlbTJ4Mik7IC8vIHNob3VsZCBzdGljayBpdCBhdCAweDRcblx0XHR9KTtcblxuXHRcdGl0KCdzaG91bGQgbm90IGFsbG93IGl0ZW1zIHRvIGJlIHBsYWNlZCB3aXRoIG5lZ2F0aXZlIGluZGljZXMnLCBmdW5jdGlvbigpIHtcblx0XHRcdEdyaWRzdGVyQ3RybC5wdXRJdGVtKGl0ZW0xeDEsIC0xLCAtMSk7XG5cdFx0XHRleHBlY3QoR3JpZHN0ZXJDdHJsLmdldEl0ZW0oMCwgMCkpLnRvQmUoaXRlbTF4MSk7XG5cdFx0XHRleHBlY3QoaXRlbTF4MS5yb3cpLnRvQmUoMCk7XG5cdFx0XHRleHBlY3QoaXRlbTF4MS5jb2wpLnRvQmUoMCk7XG5cdFx0fSk7XG5cblx0XHRpdCgnc2hvdWxkIG5vdCBmbG9hdCBpdGVtcyB1bnRpbCB0b2xkIHRvJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRHcmlkc3RlckN0cmwucHV0SXRlbShpdGVtMXgxLCAzLCAwKTtcblx0XHRcdGV4cGVjdChHcmlkc3RlckN0cmwuZ2V0SXRlbSgwLCAwKSkudG9CZShudWxsKTtcblx0XHRcdGV4cGVjdChHcmlkc3RlckN0cmwuZ2V0SXRlbSgzLCAwKSkudG9CZShpdGVtMXgxKTtcblx0XHR9KTtcblxuXHRcdGl0KCdzaG91bGQgbm90IGNyZWF0ZSB0d28gcmVmZXJlbmNlcyB0byB0aGUgc2FtZSBpdGVtJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRHcmlkc3RlckN0cmwucHV0SXRlbShpdGVtMXgxLCAwLCAwKTtcblx0XHRcdGV4cGVjdChHcmlkc3RlckN0cmwuZ2V0SXRlbSgwLCAwKSkudG9CZShpdGVtMXgxKTtcblx0XHRcdEdyaWRzdGVyQ3RybC5wdXRJdGVtKGl0ZW0xeDEsIDAsIDQpO1xuXHRcdFx0ZXhwZWN0KEdyaWRzdGVyQ3RybC5nZXRJdGVtKDAsIDQpKS50b0JlKGl0ZW0xeDEpO1xuXHRcdFx0ZXhwZWN0KEdyaWRzdGVyQ3RybC5nZXRJdGVtKDAsIDApKS50b0JlKG51bGwpO1xuXHRcdH0pO1xuXHR9KTtcblxuXHRkZXNjcmliZSgnZ2V0SXRlbScsIGZ1bmN0aW9uKCkge1xuXHRcdGl0KCdzaG91bGQgbWF0Y2ggYW55IGNvbHVtbiBvZiBhIG11bHRpLWNvbHVtbiBpdGVtJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRHcmlkc3RlckN0cmwucHV0SXRlbShpdGVtMngyLCAwLCAyKTtcblxuXHRcdFx0Ly8gYWxsIDQgY29ybmVycyBzaG91bGQgcmV0dXJuIHRoZSBzYW1lIGl0ZW1cblx0XHRcdGV4cGVjdChHcmlkc3RlckN0cmwuZ2V0SXRlbSgwLCAyKSkudG9CZShpdGVtMngyKTtcblx0XHRcdGV4cGVjdChHcmlkc3RlckN0cmwuZ2V0SXRlbSgxLCAyKSkudG9CZShpdGVtMngyKTtcblx0XHRcdGV4cGVjdChHcmlkc3RlckN0cmwuZ2V0SXRlbSgwLCAzKSkudG9CZShpdGVtMngyKTtcblx0XHRcdGV4cGVjdChHcmlkc3RlckN0cmwuZ2V0SXRlbSgxLCAzKSkudG9CZShpdGVtMngyKTtcblx0XHR9KTtcblx0fSk7XG5cblx0ZGVzY3JpYmUoJ2dldEl0ZW1zJywgZnVuY3Rpb24oKSB7XG5cdFx0aXQoJ3Nob3VsZCBnZXQgaXRlbXMgd2l0aGluIGFuIGFyZWEnLCBmdW5jdGlvbigpIHtcblx0XHRcdEdyaWRzdGVyQ3RybC5wdXRJdGVtKGl0ZW0yeDIsIDAsIDEpO1xuXHRcdFx0R3JpZHN0ZXJDdHJsLnB1dEl0ZW0oaXRlbTJ4MSwgMiwgMCk7XG5cblx0XHRcdC8vIHZlcmlmeSB0aGV5IGFyZSBzdGlsbCB3aGVyZSB3ZSBwdXQgdGhlbVxuXHRcdFx0ZXhwZWN0KEdyaWRzdGVyQ3RybC5nZXRJdGVtKDAsIDEpKS50b0JlKGl0ZW0yeDIpO1xuXHRcdFx0ZXhwZWN0KEdyaWRzdGVyQ3RybC5nZXRJdGVtKDIsIDApKS50b0JlKGl0ZW0yeDEpO1xuXG5cdFx0XHR2YXIgaXRlbXMgPSBHcmlkc3RlckN0cmwuZ2V0SXRlbXMoMSwgMCwgMiwgMSk7XG5cdFx0XHRleHBlY3QoaXRlbXMubGVuZ3RoKS50b0JlKDEpO1xuXHRcdFx0ZXhwZWN0KGl0ZW1zWzBdKS50b0JlKGl0ZW0yeDIpO1xuXHRcdH0pO1xuXHR9KTtcblxuXHRkZXNjcmliZSgnZmxvYXRJdGVtc1VwJywgZnVuY3Rpb24oKSB7XG5cdFx0aXQoJ3Nob3VsZCBmbG9hdCBhbiBpdGVtIHVwJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRHcmlkc3RlckN0cmwucHV0SXRlbShpdGVtMXgxLCAzLCAwKTtcblx0XHRcdEdyaWRzdGVyQ3RybC5mbG9hdEl0ZW1zVXAoKTtcblx0XHRcdGV4cGVjdChHcmlkc3RlckN0cmwuZ2V0SXRlbSgwLCAwKSkudG9CZShpdGVtMXgxKTtcblx0XHR9KTtcblxuXHRcdGl0KCdzaG91bGQgc3RhY2sgaXRlbXMgd2hlbiB0aGV5IGZsb2F0IHVwJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRHcmlkc3RlckN0cmwucHV0SXRlbShpdGVtMXgxLCAzLCAwKTtcblx0XHRcdEdyaWRzdGVyQ3RybC5mbG9hdEl0ZW1zVXAoKTtcblx0XHRcdGV4cGVjdChHcmlkc3RlckN0cmwuZ2V0SXRlbSgwLCAwKSkudG9CZShpdGVtMXgxKTtcblxuXHRcdFx0R3JpZHN0ZXJDdHJsLnB1dEl0ZW0oaXRlbTJ4MSwgMywgMCk7XG5cdFx0XHRHcmlkc3RlckN0cmwuZmxvYXRJdGVtc1VwKCk7XG5cdFx0XHRleHBlY3QoR3JpZHN0ZXJDdHJsLmdldEl0ZW0oMSwgMCkpLnRvQmUoaXRlbTJ4MSk7XG5cblx0XHRcdEdyaWRzdGVyQ3RybC5wdXRJdGVtKGl0ZW0xeDEsIDMsIDEpO1xuXHRcdFx0R3JpZHN0ZXJDdHJsLmZsb2F0SXRlbXNVcCgpO1xuXHRcdFx0ZXhwZWN0KEdyaWRzdGVyQ3RybC5nZXRJdGVtKDEsIDEpKS50b0JlKGl0ZW0xeDEpO1xuXHRcdH0pO1xuXG5cdFx0aXQoJ3Nob3VsZCBjb3JyZWN0bHkgc3RhY2sgbXVsdGktY29sdW1uIGl0ZW1zIHdoZW4gdGhlaXIgcHJpbWFyeSBjb29yZGluYXRlcyBkbyBub3Qgc3RhY2snLCBmdW5jdGlvbigpIHtcblx0XHRcdEdyaWRzdGVyQ3RybC5wdXRJdGVtKGl0ZW0yeDIsIDAsIDIpO1xuXHRcdFx0R3JpZHN0ZXJDdHJsLnB1dEl0ZW0oaXRlbTJ4MSwgMiwgMSk7XG5cblx0XHRcdC8vIHZlcmlmeSB0aGV5IGFyZSBzdGlsbCB3aGVyZSB3ZSBwdXQgdGhlbVxuXHRcdFx0ZXhwZWN0KEdyaWRzdGVyQ3RybC5nZXRJdGVtKDAsIDIpKS50b0JlKGl0ZW0yeDIpO1xuXHRcdFx0ZXhwZWN0KEdyaWRzdGVyQ3RybC5nZXRJdGVtKDIsIDEpKS50b0JlKGl0ZW0yeDEpO1xuXG5cdFx0XHQvLyBhbGxvdyB0aGVtIHRvIGZsb2F0IHVwXG5cdFx0XHRHcmlkc3RlckN0cmwuZmxvYXRJdGVtc1VwKCk7XG5cblx0XHRcdC8vIHZlcmlmeSB0aGV5IGFyZSBzdGlsbCB3aGVyZSB3ZSBwdXQgdGhlbVxuXHRcdFx0ZXhwZWN0KEdyaWRzdGVyQ3RybC5nZXRJdGVtKDAsIDIpKS50b0JlKGl0ZW0yeDIpO1xuXHRcdFx0ZXhwZWN0KEdyaWRzdGVyQ3RybC5nZXRJdGVtKDIsIDEpKS50b0JlKGl0ZW0yeDEpO1xuXHRcdH0pO1xuXHR9KTtcblxuXHRkZXNjcmliZSgnbW92ZU92ZXJsYXBwaW5nSXRlbXMnLCBmdW5jdGlvbigpIHtcblx0XHRpdCgnc2hvdWxkIGNvcnJlY3RseSBzdGFjayBpdGVtcyBvbiByZXNpemUgd2hlbiB0aGVpciBwcmltYXJ5IGNvb3JkaW5hdGVzIGRvIG5vdCBzdGFjaycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0R3JpZHN0ZXJDdHJsLnB1dEl0ZW0oaXRlbTF4MSwgMCwgMCk7XG5cdFx0XHRHcmlkc3RlckN0cmwucHV0SXRlbShpdGVtMngyLCAwLCAyKTtcblx0XHRcdEdyaWRzdGVyQ3RybC5wdXRJdGVtKGl0ZW0yeDEsIDEsIDApO1xuXG5cdFx0XHQvLyB2ZXJpZnkgdGhleSBhcmUgc3RpbGwgd2hlcmUgd2UgcHV0IHRoZW1cblx0XHRcdGV4cGVjdChHcmlkc3RlckN0cmwuZ2V0SXRlbSgwLCAwKSkudG9CZShpdGVtMXgxKTtcblx0XHRcdGV4cGVjdChHcmlkc3RlckN0cmwuZ2V0SXRlbSgwLCAyKSkudG9CZShpdGVtMngyKTtcblx0XHRcdGV4cGVjdChHcmlkc3RlckN0cmwuZ2V0SXRlbSgxLCAwKSkudG9CZShpdGVtMngxKTtcblxuXHRcdFx0aXRlbTJ4MS5zaXplWCA9IDM7XG5cdFx0XHRHcmlkc3RlckN0cmwubW92ZU92ZXJsYXBwaW5nSXRlbXMoaXRlbTJ4MSk7XG5cdFx0XHRleHBlY3QoR3JpZHN0ZXJDdHJsLmdldEl0ZW0oMSwgMikpLnRvQmUoaXRlbTJ4MSk7XG5cblx0XHRcdGV4cGVjdChpdGVtMngyLnJvdykudG9CZSgyKTtcblx0XHR9KTtcblxuXHRcdGl0KCdzaG91bGQgY29ycmVjdGx5IHB1c2ggaXRlbXMgZG93bicsIGZ1bmN0aW9uKCkge1xuXHRcdFx0R3JpZHN0ZXJDdHJsLnB1dEl0ZW0oaXRlbTJ4MiwgMCwgMCk7XG5cdFx0XHRHcmlkc3RlckN0cmwucHV0SXRlbShpdGVtMXgxLCAyLCAwKTtcblx0XHRcdEdyaWRzdGVyQ3RybC5wdXRJdGVtKGl0ZW0xeDIsIDEsIDEpO1xuXHRcdFx0R3JpZHN0ZXJDdHJsLmZsb2F0SXRlbXNVcCgpO1xuXG5cdFx0XHRleHBlY3QoaXRlbTJ4Mi5yb3cpLnRvQmUoMik7XG5cdFx0XHRleHBlY3QoaXRlbTJ4Mi5jb2wpLnRvQmUoMCk7XG5cblx0XHRcdGV4cGVjdChHcmlkc3RlckN0cmwuZ2V0SXRlbSg0LCAwKSkudG9CZShpdGVtMXgxKTtcblxuXHRcdFx0ZXhwZWN0KGl0ZW0xeDIucm93KS50b0JlKDApO1xuXHRcdFx0ZXhwZWN0KGl0ZW0xeDIuY29sKS50b0JlKDEpO1xuXHRcdH0pO1xuXG5cdFx0aXQoJ3Nob3VsZCBjb3JyZWN0bHkgcHVzaCBpdGVtcyBkb3duJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRHcmlkc3RlckN0cmwucHV0SXRlbShpdGVtMXgyLCAwLCAwKTtcblx0XHRcdEdyaWRzdGVyQ3RybC5wdXRJdGVtKGl0ZW0yeDEsIDAsIDEpO1xuXHRcdFx0R3JpZHN0ZXJDdHJsLnB1dEl0ZW0oaXRlbTF4MSwgMSwgMik7XG5cblx0XHRcdGl0ZW0xeDIuc2l6ZVggPSAyO1xuXHRcdFx0R3JpZHN0ZXJDdHJsLm1vdmVPdmVybGFwcGluZ0l0ZW1zKGl0ZW0xeDIpO1xuXG5cdFx0XHRleHBlY3QoR3JpZHN0ZXJDdHJsLmdldEl0ZW0oMCwgMCkpLnRvQmUoaXRlbTF4Mik7XG5cdFx0XHRleHBlY3QoR3JpZHN0ZXJDdHJsLmdldEl0ZW0oMiwgMSkpLnRvQmUoaXRlbTJ4MSk7XG5cdFx0XHRleHBlY3QoR3JpZHN0ZXJDdHJsLmdldEl0ZW0oMywgMikpLnRvQmUoaXRlbTF4MSk7XG5cdFx0fSk7XG5cdH0pO1xufSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
