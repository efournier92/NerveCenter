'use strict';describe('gridster directive',function(){beforeEach(module('gridster'));var $scope;var GridsterCtrl;var $el;var startCount;var resizeCount;var stopCount;var broadcastOnRootScope;var dragHelper=function dragHelper(el,dx,dy){el.simulate('mouseover').simulate('drag',{moves:1,dx:dx,dy:dy})};beforeEach(inject(function($rootScope,$compile){broadcastOnRootScope=spyOn($rootScope,'$broadcast').and.callThrough();$scope=$rootScope.$new();startCount=resizeCount=stopCount=0;$scope.opts={minRows:3,resizable:{enabled:true,handles:['n','e','s','w','se','sw'],start:function start(){startCount++},resize:function resize(){resizeCount++},stop:function stop(){stopCount++}}};$scope.dashboard={widgets:[{id:1,row:0,col:0,sizeX:1,sizeY:1},{id:2,row:0,col:3,sizeX:2,sizeY:1},{id:3,row:1,col:3,sizeX:2,sizeY:2}]};$el=angular.element('<div gridster="opts" style="width: 1000px;">'+'<ul><li gridster-item="widget" ng-repeat="widget in dashboard.widgets">'+'</div>');$el.appendTo(document.body);$compile($el)($scope);$scope.$digest();GridsterCtrl=$el.controller('gridster')}));it('should add a class of gridster',function(){expect($el.hasClass('gridster')).toBe(true)});it('should override options',function(){expect(GridsterCtrl.minRows).toBe($scope.opts.minRows)});it('should add widgets to DOM',function(){expect($el.find('li').length).toBe($scope.dashboard.widgets.length)});it('should initialize resizable',function(){var $widget=$el.find('li:first-child');expect($widget.find('.handle-s').length).toBe(1)});it('should update widget dimensions on resize & trigger custom resize events',function(){var $widget=$el.find('li:first-child');var handle=$widget.find('.handle-e');expect($widget.width()).toBe(155);expect($scope.dashboard.widgets[0].sizeX).toBe(1);expect(startCount).toBe(0);expect(resizeCount).toBe(0);expect(stopCount).toBe(0);dragHelper(handle,50);expect($widget.width()).toBe(320);expect($scope.dashboard.widgets[0].sizeX).toBe(2);expect(startCount).toBe(1);expect(resizeCount).toBe(1);expect(stopCount).toBe(1)});it('should broadcast "gridster-item-resized" event on resize',function(){var eHandle=$el.find('li:first-child').find('.handle-e');var sHandle=$el.find('li:first-child').find('.handle-s');broadcastOnRootScope.calls.reset();dragHelper(eHandle,50);expect(broadcastOnRootScope).toHaveBeenCalledWith('gridster-item-resized',jasmine.objectContaining({sizeX:2,sizeY:1}));broadcastOnRootScope.calls.reset();dragHelper(sHandle,0,50);expect(broadcastOnRootScope).toHaveBeenCalledWith('gridster-item-resized',jasmine.objectContaining({sizeX:2,sizeY:2}))})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9hbmd1bGFyLWdyaWRzdGVyL3Rlc3Qvc3BlYy9ncmlkc3Rlci1kaXJlY3RpdmUuanMiXSwibmFtZXMiOlsiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwibW9kdWxlIiwiJHNjb3BlIiwiR3JpZHN0ZXJDdHJsIiwiJGVsIiwic3RhcnRDb3VudCIsInJlc2l6ZUNvdW50Iiwic3RvcENvdW50IiwiYnJvYWRjYXN0T25Sb290U2NvcGUiLCJkcmFnSGVscGVyIiwiZWwiLCJkeCIsImR5Iiwic2ltdWxhdGUiLCJtb3ZlcyIsImluamVjdCIsIiRyb290U2NvcGUiLCIkY29tcGlsZSIsInNweU9uIiwiYW5kIiwiY2FsbFRocm91Z2giLCIkbmV3Iiwib3B0cyIsIm1pblJvd3MiLCJyZXNpemFibGUiLCJlbmFibGVkIiwiaGFuZGxlcyIsInN0YXJ0IiwicmVzaXplIiwic3RvcCIsImRhc2hib2FyZCIsIndpZGdldHMiLCJpZCIsInJvdyIsImNvbCIsInNpemVYIiwic2l6ZVkiLCJhbmd1bGFyIiwiZWxlbWVudCIsImFwcGVuZFRvIiwiZG9jdW1lbnQiLCJib2R5IiwiJGRpZ2VzdCIsImNvbnRyb2xsZXIiLCJpdCIsImV4cGVjdCIsImhhc0NsYXNzIiwidG9CZSIsImZpbmQiLCJsZW5ndGgiLCIkd2lkZ2V0IiwiaGFuZGxlIiwid2lkdGgiLCJlSGFuZGxlIiwic0hhbmRsZSIsImNhbGxzIiwicmVzZXQiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImphc21pbmUiLCJvYmplY3RDb250YWluaW5nIl0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBQSxTQUFTLG9CQUFUQSxDQUErQixVQUFXLENBRXpDQyxXQUFXQyxPQUFPLFVBQVBBLENBQVhELEVBRUEsR0FBSUUsT0FBSixDQUNBLEdBQUlDLGFBQUosQ0FDQSxHQUFJQyxJQUFKLENBQ0EsR0FBSUMsV0FBSixDQUNBLEdBQUlDLFlBQUosQ0FDQSxHQUFJQyxVQUFKLENBQ0EsR0FBSUMscUJBQUosQ0FFQSxHQUFJ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QkFBcUIrQyxLQUFyQi9DLENBQTJCZ0QsS0FBM0JoRCxHQUdBQyxXQUFXNEMsT0FBWDVDLENBQW9CLEVBQXBCQSxFQUdBb0MsT0FBT3JDLG9CQUFQcUMsRUFBNkJZLG9CQUE3QlosQ0FBa0QsdUJBQWxEQSxDQUEyRWEsUUFBUUMsZ0JBQVJELENBQXlCLENBQ25HdkIsTUFBTyxDQUQ0RixDQUVuR0MsTUFBTyxDQUY0RixDQUF6QnNCLENBQTNFYixFQU1BckMscUJBQXFCK0MsS0FBckIvQyxDQUEyQmdELEtBQTNCaEQsR0FHQUMsV0FBVzZDLE9BQVg3QyxDQUFvQixDQUFwQkEsQ0FBdUIsRUFBdkJBLEVBR0FvQyxPQUFPckMsb0JBQVBxQyxFQUE2Qlksb0JBQTdCWixDQUFrRCx1QkFBbERBLENBQTJFYSxRQUFRQyxnQkFBUkQsQ0FBeUIsQ0FDbkd2QixNQUFPLENBRDRGLENBRW5HQyxNQUFPLENBRjRGLENBQXpCc0IsQ0FBM0ViLENBdEJELENBQUFELENBbkhELENBQUE3QyIsImZpbGUiOiJub2RlX21vZHVsZXMvYW5ndWxhci1ncmlkc3Rlci90ZXN0L3NwZWMvZ3JpZHN0ZXItZGlyZWN0aXZlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5kZXNjcmliZSgnZ3JpZHN0ZXIgZGlyZWN0aXZlJywgZnVuY3Rpb24oKSB7XG5cblx0YmVmb3JlRWFjaChtb2R1bGUoJ2dyaWRzdGVyJykpO1xuXG5cdHZhciAkc2NvcGU7XG5cdHZhciBHcmlkc3RlckN0cmw7XG5cdHZhciAkZWw7XG5cdHZhciBzdGFydENvdW50O1xuXHR2YXIgcmVzaXplQ291bnQ7XG5cdHZhciBzdG9wQ291bnQ7XG5cdHZhciBicm9hZGNhc3RPblJvb3RTY29wZTtcblxuXHR2YXIgZHJhZ0hlbHBlciA9IGZ1bmN0aW9uKGVsLCBkeCwgZHkpIHtcblx0XHRlbC5zaW11bGF0ZSgnbW91c2VvdmVyJykuc2ltdWxhdGUoJ2RyYWcnLCB7XG5cdFx0XHRtb3ZlczogMSxcblx0XHRcdGR4OiBkeCxcblx0XHRcdGR5OiBkeVxuXHRcdH0pO1xuXHR9O1xuXG5cdGJlZm9yZUVhY2goaW5qZWN0KGZ1bmN0aW9uKCRyb290U2NvcGUsICRjb21waWxlKSB7XG5cdFx0YnJvYWRjYXN0T25Sb290U2NvcGUgPSBzcHlPbigkcm9vdFNjb3BlLCAnJGJyb2FkY2FzdCcpLmFuZC5jYWxsVGhyb3VnaCgpO1xuXG5cdFx0JHNjb3BlID0gJHJvb3RTY29wZS4kbmV3KCk7XG5cdFx0c3RhcnRDb3VudCA9IHJlc2l6ZUNvdW50ID0gc3RvcENvdW50ID0gMDtcblxuXHRcdCRzY29wZS5vcHRzID0ge1xuXHRcdFx0bWluUm93czogMyxcblx0XHRcdHJlc2l6YWJsZToge1xuXHRcdFx0XHRlbmFibGVkOiB0cnVlLFxuXHRcdFx0XHRoYW5kbGVzOiBbJ24nLCAnZScsICdzJywgJ3cnLCAnc2UnLCAnc3cnXSxcblx0XHRcdFx0c3RhcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHN0YXJ0Q291bnQrKztcblx0XHRcdFx0fSxcblx0XHRcdFx0cmVzaXplOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXNpemVDb3VudCsrO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRzdG9wOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzdG9wQ291bnQrKztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHQkc2NvcGUuZGFzaGJvYXJkID0ge1xuXHRcdFx0d2lkZ2V0czogW3tcblx0XHRcdFx0aWQ6IDEsXG5cdFx0XHRcdHJvdzogMCxcblx0XHRcdFx0Y29sOiAwLFxuXHRcdFx0XHRzaXplWDogMSxcblx0XHRcdFx0c2l6ZVk6IDFcblx0XHRcdH0sIHtcblx0XHRcdFx0aWQ6IDIsXG5cdFx0XHRcdHJvdzogMCxcblx0XHRcdFx0Y29sOiAzLFxuXHRcdFx0XHRzaXplWDogMixcblx0XHRcdFx0c2l6ZVk6IDFcblx0XHRcdH0sIHtcblx0XHRcdFx0aWQ6IDMsXG5cdFx0XHRcdHJvdzogMSxcblx0XHRcdFx0Y29sOiAzLFxuXHRcdFx0XHRzaXplWDogMixcblx0XHRcdFx0c2l6ZVk6IDJcblx0XHRcdH1dXG5cdFx0fTtcblxuXHRcdCRlbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBncmlkc3Rlcj1cIm9wdHNcIiBzdHlsZT1cIndpZHRoOiAxMDAwcHg7XCI+JyArXG5cdFx0XHQnPHVsPjxsaSBncmlkc3Rlci1pdGVtPVwid2lkZ2V0XCIgbmctcmVwZWF0PVwid2lkZ2V0IGluIGRhc2hib2FyZC53aWRnZXRzXCI+JyArXG5cdFx0XHQnPC9kaXY+Jyk7XG5cblx0XHQkZWwuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSk7IC8vIGFwcGVuZCB0byBib2R5IHNvIGpxdWVyeS1zaW11bGF0ZSB3b3Jrc1xuXG5cdFx0JGNvbXBpbGUoJGVsKSgkc2NvcGUpO1xuXHRcdCRzY29wZS4kZGlnZXN0KCk7XG5cblx0XHRHcmlkc3RlckN0cmwgPSAkZWwuY29udHJvbGxlcignZ3JpZHN0ZXInKTtcblx0fSkpO1xuXG5cblx0aXQoJ3Nob3VsZCBhZGQgYSBjbGFzcyBvZiBncmlkc3RlcicsIGZ1bmN0aW9uKCkge1xuXHRcdGV4cGVjdCgkZWwuaGFzQ2xhc3MoJ2dyaWRzdGVyJykpLnRvQmUodHJ1ZSk7XG5cdH0pO1xuXG5cdGl0KCdzaG91bGQgb3ZlcnJpZGUgb3B0aW9ucycsIGZ1bmN0aW9uKCkge1xuXHRcdGV4cGVjdChHcmlkc3RlckN0cmwubWluUm93cykudG9CZSgkc2NvcGUub3B0cy5taW5Sb3dzKTtcblx0fSk7XG5cblx0aXQoJ3Nob3VsZCBhZGQgd2lkZ2V0cyB0byBET00nLCBmdW5jdGlvbigpIHtcblx0XHRleHBlY3QoJGVsLmZpbmQoJ2xpJykubGVuZ3RoKS50b0JlKCRzY29wZS5kYXNoYm9hcmQud2lkZ2V0cy5sZW5ndGgpO1xuXHR9KTtcblxuXHRpdCgnc2hvdWxkIGluaXRpYWxpemUgcmVzaXphYmxlJywgZnVuY3Rpb24oKSB7XG5cdFx0dmFyICR3aWRnZXQgPSAkZWwuZmluZCgnbGk6Zmlyc3QtY2hpbGQnKTtcblxuXHRcdGV4cGVjdCgkd2lkZ2V0LmZpbmQoJy5oYW5kbGUtcycpLmxlbmd0aCkudG9CZSgxKTtcblx0fSk7XG5cblx0aXQoJ3Nob3VsZCB1cGRhdGUgd2lkZ2V0IGRpbWVuc2lvbnMgb24gcmVzaXplICYgdHJpZ2dlciBjdXN0b20gcmVzaXplIGV2ZW50cycsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciAkd2lkZ2V0ID0gJGVsLmZpbmQoJ2xpOmZpcnN0LWNoaWxkJyk7XG5cdFx0dmFyIGhhbmRsZSA9ICR3aWRnZXQuZmluZCgnLmhhbmRsZS1lJyk7XG5cblx0XHRleHBlY3QoJHdpZGdldC53aWR0aCgpKS50b0JlKDE1NSk7XG5cdFx0ZXhwZWN0KCRzY29wZS5kYXNoYm9hcmQud2lkZ2V0c1swXS5zaXplWCkudG9CZSgxKTtcblx0XHRleHBlY3Qoc3RhcnRDb3VudCkudG9CZSgwKTtcblx0XHRleHBlY3QocmVzaXplQ291bnQpLnRvQmUoMCk7XG5cdFx0ZXhwZWN0KHN0b3BDb3VudCkudG9CZSgwKTtcblxuXHRcdGRyYWdIZWxwZXIoaGFuZGxlLCA1MCk7IC8vIHNob3VsZCByZXNpemUgdG8gbmV4dCB3aWR0aCBzdGVwXG5cblx0XHRleHBlY3QoJHdpZGdldC53aWR0aCgpKS50b0JlKDMyMCk7XG5cdFx0ZXhwZWN0KCRzY29wZS5kYXNoYm9hcmQud2lkZ2V0c1swXS5zaXplWCkudG9CZSgyKTtcblx0XHRleHBlY3Qoc3RhcnRDb3VudCkudG9CZSgxKTtcblx0XHRleHBlY3QocmVzaXplQ291bnQpLnRvQmUoMSk7XG5cdFx0ZXhwZWN0KHN0b3BDb3VudCkudG9CZSgxKTtcblx0fSk7XG5cblx0aXQoJ3Nob3VsZCBicm9hZGNhc3QgXCJncmlkc3Rlci1pdGVtLXJlc2l6ZWRcIiBldmVudCBvbiByZXNpemUnLCBmdW5jdGlvbigpIHtcblx0XHQvLyBhcnJhbmdlXG5cdFx0dmFyIGVIYW5kbGUgPSAkZWwuZmluZCgnbGk6Zmlyc3QtY2hpbGQnKS5maW5kKCcuaGFuZGxlLWUnKTtcblx0XHR2YXIgc0hhbmRsZSA9ICRlbC5maW5kKCdsaTpmaXJzdC1jaGlsZCcpLmZpbmQoJy5oYW5kbGUtcycpO1xuXHRcdGJyb2FkY2FzdE9uUm9vdFNjb3BlLmNhbGxzLnJlc2V0KCk7XG5cblx0XHQvLyBhY3Rcblx0XHRkcmFnSGVscGVyKGVIYW5kbGUsIDUwKTtcblxuXHRcdC8vIGFzc2VydFxuXHRcdGV4cGVjdChicm9hZGNhc3RPblJvb3RTY29wZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2dyaWRzdGVyLWl0ZW0tcmVzaXplZCcsIGphc21pbmUub2JqZWN0Q29udGFpbmluZyh7XG5cdFx0XHRzaXplWDogMixcblx0XHRcdHNpemVZOiAxXG5cdFx0fSkpO1xuXG5cdFx0Ly8gYXJyYW5nZVxuXHRcdGJyb2FkY2FzdE9uUm9vdFNjb3BlLmNhbGxzLnJlc2V0KCk7XG5cblx0XHQvLyBhY3Rcblx0XHRkcmFnSGVscGVyKHNIYW5kbGUsIDAsIDUwKTtcblxuXHRcdC8vIGFzc2VydFxuXHRcdGV4cGVjdChicm9hZGNhc3RPblJvb3RTY29wZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2dyaWRzdGVyLWl0ZW0tcmVzaXplZCcsIGphc21pbmUub2JqZWN0Q29udGFpbmluZyh7XG5cdFx0XHRzaXplWDogMixcblx0XHRcdHNpemVZOiAyXG5cdFx0fSkpO1xuXHR9KTtcblxufSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
